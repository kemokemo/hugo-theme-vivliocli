<!doctype html><html lang=ja><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>フロントマター・記事</title><link rel="shortcut icon" type=image/x-icon href=../../img/favicon.ico><link rel=stylesheet href=../../css/vivlio-theme-manual.css></head><body><aside id=menu><input type=checkbox id=humburger-btn-check>
<label for=humburger-btn-check class=humburger-btn><span></span></label><div class=menu-content><section id=menu-header><div class=logo><img src=../../img/logo.png></div></section><h4><a href=../../jp/>Hugo theme for Vivliosytle-cli.</a></h4><ul><li><a href=../../jp/GettingStarted.html>Getting Started</a><li><a href=../../jp/Configuration.html>hugo-theme-vivliocli</a><ul><li><a href=../../jp/Configuration/config.html>config.tomlの設定</a><li><a href=../../jp/Configuration/pdfconfig.html>pdf configファイルの作成</a><li><a href=../../jp/Configuration/shortcodes.html>ショートコード</a><li><a href=../../jp/Configuration/frontmatter.html class=menu-selected>フロントマター・記事</a><li><a href=../../jp/Configuration/MarkdownShowcase.html>Markdownショーケース</a><li><a href=../../jp/Configuration/edition.html>エディション</a></ul><li><a href=../../jp/SamplePart.html>Sample Part</a></ul><section id=menu-footer><hr><div class=language-selector><select class=select-language onchange="location=this.value;">
<option id=jp value=/jp/Configuration/frontmatter.html selected>Japanese</option></select></div><div class=menu-footer><a href=../../jp/tags.html>tags</a></div><hr><div class=menu-footer-space></div></section></div></aside><div id=content><nav id=TableOfContents><ul><li><a href=#_indexmdのフロントマター>_index.mdのフロントマター</a><ul><li><a href=#role>role</a></li></ul></li><li><a href=#各記事のフロントマター>各記事のフロントマター</a><ul><li><a href=#showif>ShowIf</a></li><li><a href=#math>math</a></li></ul></li><li><a href=#pdftoc-pagetoc>各記事のヘッダをPDF目次に表示する</a></li></ul></nav><h1>フロントマター・記事</h1><p>セクションや各記事の設定について解説します。</p><h2 id=_indexmdのフロントマター>_index.mdのフロントマター</h2><p><code>_index.md</code>はデフォルトでは各記事と同等レベルのセクションとして扱われますが、<code>role</code>を設定することでパート/チャプターなどのより大きな枠とすることができます。</p><h3 id=role>role</h3><p><code>role: doc-part</code> : このセクションをパートとします。_index.mdはパートの表紙ページとして描画されます。<br><code>role: doc-chapter</code> : このセクションをチャプターとします。_index.mdはチャプターのタイトル及び最初の記事として描画されます。</p><h2 id=各記事のフロントマター>各記事のフロントマター</h2><h3 id=showif>ShowIf</h3><p><code>ShowIf</code>フロントマターを指定することで、<code>config.toml</code>の<code>showIfs</code>で列挙されているキーワードにマッチした場合にのみ記事を描画する事ができます。以下のフロントマターを指定した記事は<code>showIfs = ["edition1"]</code>である場合に描画されます。</p><pre><code>---
title: edition1の説明
ShowIf: [&quot;edition1&quot;]
---
</code></pre><p><a href=./config.html#showIfs>config.tomlの設定</a>も参照してください。</p><h3 id=math>math</h3><p><code>math: true</code> としたページにはTex数式（Mathjax数式）を記述することができます。インライン数式は<code>$E = mc^2$</code>のように記載します。ブロック数式は以下のように記載します。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tex data-lang=tex><span style=color:#e6db74>$$</span>
y <span style=color:#f92672>=</span> ax^<span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> bx <span style=color:#f92672>+</span> \frac{c}{d}
<span style=color:#e6db74>$$</span>
</code></pre></div><p>なお数式はPDF出力時、MathjaxのCDNでは描画できません。PDF出力で数式を正しく描画するためには、<code>isPDF: true</code>にした上でhugoサイトビルド後にMathjaxのNode.jsパッケージを利用して数式を事前レンダリングし、その後vivliostyleに渡す必要があります。実装は<code>/exampleSite/CI/MathConverter/MathConverter.ps1</code>です。<code>build.bat</code>ではこのpowershellスクリプトをhugoサイトビルド後に実行することでMathjax数式をレンダリングしています。</p><h2 id=pdftoc-pagetoc>各記事のヘッダをPDF目次に表示する</h2><p>各記事のヘッダは通常PDFの目次には出力されませんが、以下のように<code>#pdftoc-xxx</code>形式のIDを付加することでそのヘッダをPDFの目次及びしおりに出力できます。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-md data-lang=md><span style=color:#75715e>## 基本 {#pdftoc-basic}
</span><span style=color:#75715e></span>
基本です。

<span style=color:#75715e>### 基本 - その1 {#pdftoc-basic-1}
</span><span style=color:#75715e></span>
基本その1です。
</code></pre></div><p>以下のことに注意してください。</p><ul><li>セクションページ<code>_index.md</code>には適用できません。</li><li>IDは記事中で一意になるようにしてください。別記事との重複は問題ありません。</li><li><code>#pdftoc-xxx</code>IDを振ったレベルのヘッダより上位のヘッダには必ず<code>#pdftoc-xxx</code>ヘッダが振られているようにしてください。目次表示が崩れます。例えば###レベルに<code>#pdftoc-h3</code>をつけた場合、そのヘッダが属する##レベルにも<code>#pdftoc-h2</code>などを付ける必要があります。</li><li>ヘッダ文自体に<code>#pdftoc-xxx</code>を含む文字列を入れないでください。その部分が誤変換されます。</li></ul></div></body></html>